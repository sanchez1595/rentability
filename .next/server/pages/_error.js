/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_error";
exports.ids = ["pages/_error"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n/* harmony import */ var private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! private-next-pages/_error */ \"./node_modules/next/dist/pages/_error.js\");\n/* harmony import */ var private_next_pages_error__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/_error\",\n        pathname: \"/_error\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGX2Vycm9yJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZXJyb3ImYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDaEM7QUFDTDtBQUMxRDtBQUNvRDtBQUNWO0FBQzFDO0FBQ3NEO0FBQ3REO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxxREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyx1QkFBdUIsd0VBQUssQ0FBQyxxREFBUTtBQUNyQyx1QkFBdUIsd0VBQUssQ0FBQyxxREFBUTtBQUNyQywyQkFBMkIsd0VBQUssQ0FBQyxxREFBUTtBQUN6QyxlQUFlLHdFQUFLLENBQUMscURBQVE7QUFDN0Isd0JBQXdCLHdFQUFLLENBQUMscURBQVE7QUFDN0M7QUFDTyxnQ0FBZ0Msd0VBQUssQ0FBQyxxREFBUTtBQUM5QyxnQ0FBZ0Msd0VBQUssQ0FBQyxxREFBUTtBQUM5QyxpQ0FBaUMsd0VBQUssQ0FBQyxxREFBUTtBQUMvQyxnQ0FBZ0Msd0VBQUssQ0FBQyxxREFBUTtBQUM5QyxvQ0FBb0Msd0VBQUssQ0FBQyxxREFBUTtBQUN6RDtBQUNPLHdCQUF3Qix5R0FBZ0I7QUFDL0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXO0FBQ1gsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktc3RvcmUtY2FsY3VsYXRvci8/NDAwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCBEb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2Vycm9yXCI7XG4vLyBSZS1leHBvcnQgdGhlIGNvbXBvbmVudCAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCBcImdldFN0YXRpY1BhdGhzXCIpO1xuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcImdldFNlcnZlclNpZGVQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG5leHBvcnQgY29uc3QgcmVwb3J0V2ViVml0YWxzID0gaG9pc3QodXNlcmxhbmQsIFwicmVwb3J0V2ViVml0YWxzXCIpO1xuLy8gUmUtZXhwb3J0IGxlZ2FjeSBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXJhbXMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTdGF0aWNQYXJhbXNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc1JvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFUyxcbiAgICAgICAgcGFnZTogXCIvX2Vycm9yXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9fZXJyb3JcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./contexts/AppContext.tsx":
/*!*********************************!*\
  !*** ./contexts/AppContext.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppProvider: () => (/* binding */ AppProvider),\n/* harmony export */   useApp: () => (/* binding */ useApp)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/database */ \"./services/database.ts\");\n\n\n\nconst AppContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst useApp = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AppContext);\n    if (!context) {\n        throw new Error(\"useApp debe ser usado dentro de AppProvider\");\n    }\n    return context;\n};\nconst AppProvider = ({ children })=>{\n    const [productos, setProductos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [ventas, setVentas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [configuracion, setConfiguracion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        porcentajes: {\n            contabilidad: 2,\n            mercadeo: 5,\n            ventas: 15,\n            salarios: 10,\n            compras: 2,\n            extras: 5\n        },\n        costosFijos: {\n            arriendo: 1000000,\n            energia: 200000,\n            gas: 50000,\n            aseo: 800000,\n            internet: 200000,\n            agua: 200000,\n            servidores: 110000\n        },\n        herramientas: {\n            figma: 51600,\n            chatgpt: 86000,\n            correos: 51600,\n            servidor: 100000,\n            dominio: 120000\n        },\n        ventasEstimadas: 100\n    });\n    const [metas, setMetas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        ventasMensuales: 2000000,\n        unidadesMensuales: 200,\n        margenPromedio: 35,\n        rotacionInventario: 12\n    });\n    const [alertas, setAlertas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        margenMinimo: 20,\n        stockMinimo: 5,\n        diasSinVenta: 30,\n        diferenciaPrecioCompetencia: 15\n    });\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Cargar datos iniciales\n    const cargarDatos = async ()=>{\n        try {\n            setLoading(true);\n            setError(null);\n            const [productosData, ventasData, configuracionData, metasData, alertasData] = await Promise.all([\n                _services_database__WEBPACK_IMPORTED_MODULE_2__.productosService.obtenerTodos(),\n                _services_database__WEBPACK_IMPORTED_MODULE_2__.ventasService.obtenerTodas(),\n                _services_database__WEBPACK_IMPORTED_MODULE_2__.configuracionService.obtener(),\n                _services_database__WEBPACK_IMPORTED_MODULE_2__.metasService.obtener(),\n                _services_database__WEBPACK_IMPORTED_MODULE_2__.alertasService.obtener()\n            ]);\n            setProductos(productosData);\n            setVentas(ventasData);\n            setConfiguracion(configuracionData);\n            setMetas(metasData);\n            setAlertas(alertasData);\n        } catch (err) {\n            console.error(\"Error cargando datos:\", err);\n            setError(\"Error al cargar los datos. Por favor, recarga la p\\xe1gina.\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        cargarDatos();\n    }, []);\n    // Funciones de Productos\n    const agregarProducto = async (producto)=>{\n        try {\n            const nuevoProducto = await _services_database__WEBPACK_IMPORTED_MODULE_2__.productosService.crear(producto);\n            setProductos((prev)=>[\n                    nuevoProducto,\n                    ...prev\n                ]);\n        } catch (err) {\n            console.error(\"Error agregando producto:\", err);\n            throw new Error(\"No se pudo agregar el producto\");\n        }\n    };\n    const actualizarProducto = async (id, producto)=>{\n        try {\n            const productoActualizado = await _services_database__WEBPACK_IMPORTED_MODULE_2__.productosService.actualizar(id, producto);\n            setProductos((prev)=>prev.map((p)=>p.id === id ? productoActualizado : p));\n        } catch (err) {\n            console.error(\"Error actualizando producto:\", err);\n            throw new Error(\"No se pudo actualizar el producto\");\n        }\n    };\n    const eliminarProducto = async (id)=>{\n        try {\n            await _services_database__WEBPACK_IMPORTED_MODULE_2__.productosService.eliminar(id);\n            setProductos((prev)=>prev.filter((p)=>p.id !== id));\n        } catch (err) {\n            console.error(\"Error eliminando producto:\", err);\n            throw new Error(\"No se pudo eliminar el producto\");\n        }\n    };\n    // Funciones de Ventas\n    const registrarVenta = async (venta)=>{\n        try {\n            const nuevaVenta = await _services_database__WEBPACK_IMPORTED_MODULE_2__.ventasService.crear(venta);\n            setVentas((prev)=>[\n                    nuevaVenta,\n                    ...prev\n                ]);\n            // Actualizar stock del producto\n            const producto = productos.find((p)=>p.id === venta.productoId);\n            if (producto) {\n                const nuevoStock = parseInt(producto.stock) - venta.cantidad;\n                await actualizarProducto(venta.productoId, {\n                    stock: nuevoStock.toString(),\n                    fechaUltimaVenta: venta.fecha\n                });\n            }\n        } catch (err) {\n            console.error(\"Error registrando venta:\", err);\n            throw new Error(\"No se pudo registrar la venta\");\n        }\n    };\n    const eliminarVenta = async (id)=>{\n        try {\n            await _services_database__WEBPACK_IMPORTED_MODULE_2__.ventasService.eliminar(id);\n            setVentas((prev)=>prev.filter((v)=>v.id !== id));\n        } catch (err) {\n            console.error(\"Error eliminando venta:\", err);\n            throw new Error(\"No se pudo eliminar la venta\");\n        }\n    };\n    // Funciones de Configuración\n    const actualizarConfiguracion = async (tipo, clave, valor)=>{\n        try {\n            await _services_database__WEBPACK_IMPORTED_MODULE_2__.configuracionService.actualizar(tipo, clave, valor);\n            setConfiguracion((prev)=>{\n                const newConfig = {\n                    ...prev\n                };\n                if (tipo === \"porcentaje\") {\n                    newConfig.porcentajes = {\n                        ...prev.porcentajes,\n                        [clave]: valor\n                    };\n                } else if (tipo === \"costo_fijo\") {\n                    newConfig.costosFijos = {\n                        ...prev.costosFijos,\n                        [clave]: valor\n                    };\n                } else if (tipo === \"herramienta\") {\n                    newConfig.herramientas = {\n                        ...prev.herramientas,\n                        [clave]: valor\n                    };\n                } else if (tipo === \"general\" && clave === \"ventas_estimadas\") {\n                    newConfig.ventasEstimadas = valor;\n                }\n                return newConfig;\n            });\n        } catch (err) {\n            console.error(\"Error actualizando configuraci\\xf3n:\", err);\n            throw new Error(\"No se pudo actualizar la configuraci\\xf3n\");\n        }\n    };\n    const eliminarConfiguracion = async (tipo, clave)=>{\n        try {\n            await _services_database__WEBPACK_IMPORTED_MODULE_2__.configuracionService.eliminar(tipo, clave);\n            setConfiguracion((prev)=>{\n                const newConfig = {\n                    ...prev\n                };\n                if (tipo === \"porcentaje\") {\n                    const newPorcentajes = {\n                        ...prev.porcentajes\n                    };\n                    delete newPorcentajes[clave];\n                    newConfig.porcentajes = newPorcentajes;\n                } else if (tipo === \"costo_fijo\") {\n                    const newCostosFijos = {\n                        ...prev.costosFijos\n                    };\n                    delete newCostosFijos[clave];\n                    newConfig.costosFijos = newCostosFijos;\n                } else if (tipo === \"herramienta\") {\n                    const newHerramientas = {\n                        ...prev.herramientas\n                    };\n                    delete newHerramientas[clave];\n                    newConfig.herramientas = newHerramientas;\n                }\n                return newConfig;\n            });\n        } catch (err) {\n            console.error(\"Error eliminando configuraci\\xf3n:\", err);\n            throw new Error(\"No se pudo eliminar la configuraci\\xf3n\");\n        }\n    };\n    // Funciones de Metas y Alertas\n    const actualizarMeta = async (clave, valor)=>{\n        try {\n            await _services_database__WEBPACK_IMPORTED_MODULE_2__.metasService.actualizar(clave, valor);\n            setMetas((prev)=>({\n                    ...prev,\n                    [clave === \"ventas_mensuales\" ? \"ventasMensuales\" : clave === \"unidades_mensuales\" ? \"unidadesMensuales\" : clave === \"margen_promedio\" ? \"margenPromedio\" : \"rotacionInventario\"]: valor\n                }));\n        } catch (err) {\n            console.error(\"Error actualizando meta:\", err);\n            throw new Error(\"No se pudo actualizar la meta\");\n        }\n    };\n    const actualizarAlerta = async (clave, valor)=>{\n        try {\n            await _services_database__WEBPACK_IMPORTED_MODULE_2__.alertasService.actualizar(clave, valor);\n            setAlertas((prev)=>({\n                    ...prev,\n                    [clave === \"margen_minimo\" ? \"margenMinimo\" : clave === \"stock_minimo\" ? \"stockMinimo\" : clave === \"dias_sin_venta\" ? \"diasSinVenta\" : \"diferenciaPrecioCompetencia\"]: valor\n                }));\n        } catch (err) {\n            console.error(\"Error actualizando alerta:\", err);\n            throw new Error(\"No se pudo actualizar la alerta\");\n        }\n    };\n    const value = {\n        productos,\n        ventas,\n        configuracion,\n        metas,\n        alertas,\n        loading,\n        error,\n        agregarProducto,\n        actualizarProducto,\n        eliminarProducto,\n        registrarVenta,\n        eliminarVenta,\n        actualizarConfiguracion,\n        eliminarConfiguracion,\n        actualizarMeta,\n        actualizarAlerta,\n        recargarDatos: cargarDatos\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AppContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/zamircantillosanchez/Proyectos/rentability/contexts/AppContext.tsx\",\n        lineNumber: 304,\n        columnNumber: 10\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFvQixtQkFDOUIscUJBQXFCLEVBQUVDO2dCQUMxQjtRQUNGLEVBQUUsT0FBT2pDLEtBQUs7WUFDWkMsUUFBUWQsS0FBSyxDQUFDLDRCQUE0QmE7WUFDMUMsTUFBTSxJQUFJekQsTUFBTTtRQUNsQjtJQUNGO0lBRUEsTUFBTWlHLG1CQUFtQixPQUFPUixPQUFlQztRQUM3QyxJQUFJO1lBQ0YsTUFBTS9GLDhEQUFjQSxDQUFDd0UsVUFBVSxDQUFDc0IsT0FBT0M7WUFFdkNyRCxXQUFXMEIsQ0FBQUEsT0FBUztvQkFDbEIsR0FBR0EsSUFBSTtvQkFDUCxDQUFDMEIsVUFBVSxrQkFBa0IsaUJBQzVCQSxVQUFVLGlCQUFpQixnQkFDM0JBLFVBQVUsbUJBQW1CLGlCQUM3Qiw4QkFBOEIsRUFBRUM7Z0JBQ25DO1FBQ0YsRUFBRSxPQUFPakMsS0FBSztZQUNaQyxRQUFRZCxLQUFLLENBQUMsOEJBQThCYTtZQUM1QyxNQUFNLElBQUl6RCxNQUFNO1FBQ2xCO0lBQ0Y7SUFFQSxNQUFNa0csUUFBd0I7UUFDNUIvRjtRQUNBRTtRQUNBRTtRQUNBdUI7UUFDQU07UUFDQU07UUFDQUU7UUFDQWU7UUFDQUs7UUFDQU07UUFDQUc7UUFDQVk7UUFDQUU7UUFDQUs7UUFDQUk7UUFDQUM7UUFDQUUsZUFBZXJEO0lBQ2pCO0lBRUEscUJBQU8sOERBQUNsRCxXQUFXd0csUUFBUTtRQUFDRixPQUFPQTtrQkFBUWhHOzs7Ozs7QUFDN0MsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktc3RvcmUtY2FsY3VsYXRvci8uL2NvbnRleHRzL0FwcENvbnRleHQudHN4PzI1MGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFByb2R1Y3RvLCBWZW50YSwgQ29uZmlndXJhY2lvbiwgTWV0YXMsIEFsZXJ0YXMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBcbiAgcHJvZHVjdG9zU2VydmljZSwgXG4gIHZlbnRhc1NlcnZpY2UsIFxuICBjb25maWd1cmFjaW9uU2VydmljZSwgXG4gIG1ldGFzU2VydmljZSwgXG4gIGFsZXJ0YXNTZXJ2aWNlIFxufSBmcm9tICcuLi9zZXJ2aWNlcy9kYXRhYmFzZSc7XG5cbmludGVyZmFjZSBBcHBDb250ZXh0VHlwZSB7XG4gIC8vIEVzdGFkb3NcbiAgcHJvZHVjdG9zOiBQcm9kdWN0b1tdO1xuICB2ZW50YXM6IFZlbnRhW107XG4gIGNvbmZpZ3VyYWNpb246IENvbmZpZ3VyYWNpb247XG4gIG1ldGFzOiBNZXRhcztcbiAgYWxlcnRhczogQWxlcnRhcztcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIFxuICAvLyBGdW5jaW9uZXMgZGUgUHJvZHVjdG9zXG4gIGFncmVnYXJQcm9kdWN0bzogKHByb2R1Y3RvOiBPbWl0PFByb2R1Y3RvLCAnaWQnPikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgYWN0dWFsaXphclByb2R1Y3RvOiAoaWQ6IHN0cmluZywgcHJvZHVjdG86IFBhcnRpYWw8UHJvZHVjdG8+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBlbGltaW5hclByb2R1Y3RvOiAoaWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgXG4gIC8vIEZ1bmNpb25lcyBkZSBWZW50YXNcbiAgcmVnaXN0cmFyVmVudGE6ICh2ZW50YTogT21pdDxWZW50YSwgJ2lkJz4pID0+IFByb21pc2U8dm9pZD47XG4gIGVsaW1pbmFyVmVudGE6IChpZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBcbiAgLy8gRnVuY2lvbmVzIGRlIENvbmZpZ3VyYWNpw7NuXG4gIGFjdHVhbGl6YXJDb25maWd1cmFjaW9uOiAodGlwbzogc3RyaW5nLCBjbGF2ZTogc3RyaW5nLCB2YWxvcjogbnVtYmVyKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBlbGltaW5hckNvbmZpZ3VyYWNpb246ICh0aXBvOiBzdHJpbmcsIGNsYXZlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIFxuICAvLyBGdW5jaW9uZXMgZGUgTWV0YXMgeSBBbGVydGFzXG4gIGFjdHVhbGl6YXJNZXRhOiAoY2xhdmU6IHN0cmluZywgdmFsb3I6IG51bWJlcikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgYWN0dWFsaXphckFsZXJ0YTogKGNsYXZlOiBzdHJpbmcsIHZhbG9yOiBudW1iZXIpID0+IFByb21pc2U8dm9pZD47XG4gIFxuICAvLyBGdW5jacOzbiBkZSByZWNhcmdhXG4gIHJlY2FyZ2FyRGF0b3M6ICgpID0+IFByb21pc2U8dm9pZD47XG59XG5cbmNvbnN0IEFwcENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEFwcENvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG5leHBvcnQgY29uc3QgdXNlQXBwID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBcHBDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VBcHAgZGViZSBzZXIgdXNhZG8gZGVudHJvIGRlIEFwcFByb3ZpZGVyJyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG5pbnRlcmZhY2UgQXBwUHJvdmlkZXJQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBjb25zdCBBcHBQcm92aWRlcjogUmVhY3QuRkM8QXBwUHJvdmlkZXJQcm9wcz4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IFtwcm9kdWN0b3MsIHNldFByb2R1Y3Rvc10gPSB1c2VTdGF0ZTxQcm9kdWN0b1tdPihbXSk7XG4gIGNvbnN0IFt2ZW50YXMsIHNldFZlbnRhc10gPSB1c2VTdGF0ZTxWZW50YVtdPihbXSk7XG4gIGNvbnN0IFtjb25maWd1cmFjaW9uLCBzZXRDb25maWd1cmFjaW9uXSA9IHVzZVN0YXRlPENvbmZpZ3VyYWNpb24+KHtcbiAgICBwb3JjZW50YWplczoge1xuICAgICAgY29udGFiaWxpZGFkOiAyLFxuICAgICAgbWVyY2FkZW86IDUsXG4gICAgICB2ZW50YXM6IDE1LFxuICAgICAgc2FsYXJpb3M6IDEwLFxuICAgICAgY29tcHJhczogMixcbiAgICAgIGV4dHJhczogNVxuICAgIH0sXG4gICAgY29zdG9zRmlqb3M6IHtcbiAgICAgIGFycmllbmRvOiAxMDAwMDAwLFxuICAgICAgZW5lcmdpYTogMjAwMDAwLFxuICAgICAgZ2FzOiA1MDAwMCxcbiAgICAgIGFzZW86IDgwMDAwMCxcbiAgICAgIGludGVybmV0OiAyMDAwMDAsXG4gICAgICBhZ3VhOiAyMDAwMDAsXG4gICAgICBzZXJ2aWRvcmVzOiAxMTAwMDBcbiAgICB9LFxuICAgIGhlcnJhbWllbnRhczoge1xuICAgICAgZmlnbWE6IDUxNjAwLFxuICAgICAgY2hhdGdwdDogODYwMDAsXG4gICAgICBjb3JyZW9zOiA1MTYwMCxcbiAgICAgIHNlcnZpZG9yOiAxMDAwMDAsXG4gICAgICBkb21pbmlvOiAxMjAwMDBcbiAgICB9LFxuICAgIHZlbnRhc0VzdGltYWRhczogMTAwXG4gIH0pO1xuICBjb25zdCBbbWV0YXMsIHNldE1ldGFzXSA9IHVzZVN0YXRlPE1ldGFzPih7XG4gICAgdmVudGFzTWVuc3VhbGVzOiAyMDAwMDAwLFxuICAgIHVuaWRhZGVzTWVuc3VhbGVzOiAyMDAsXG4gICAgbWFyZ2VuUHJvbWVkaW86IDM1LFxuICAgIHJvdGFjaW9uSW52ZW50YXJpbzogMTJcbiAgfSk7XG4gIGNvbnN0IFthbGVydGFzLCBzZXRBbGVydGFzXSA9IHVzZVN0YXRlPEFsZXJ0YXM+KHtcbiAgICBtYXJnZW5NaW5pbW86IDIwLFxuICAgIHN0b2NrTWluaW1vOiA1LFxuICAgIGRpYXNTaW5WZW50YTogMzAsXG4gICAgZGlmZXJlbmNpYVByZWNpb0NvbXBldGVuY2lhOiAxNVxuICB9KTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gQ2FyZ2FyIGRhdG9zIGluaWNpYWxlc1xuICBjb25zdCBjYXJnYXJEYXRvcyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgXG4gICAgICBjb25zdCBbcHJvZHVjdG9zRGF0YSwgdmVudGFzRGF0YSwgY29uZmlndXJhY2lvbkRhdGEsIG1ldGFzRGF0YSwgYWxlcnRhc0RhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBwcm9kdWN0b3NTZXJ2aWNlLm9idGVuZXJUb2RvcygpLFxuICAgICAgICB2ZW50YXNTZXJ2aWNlLm9idGVuZXJUb2RhcygpLFxuICAgICAgICBjb25maWd1cmFjaW9uU2VydmljZS5vYnRlbmVyKCksXG4gICAgICAgIG1ldGFzU2VydmljZS5vYnRlbmVyKCksXG4gICAgICAgIGFsZXJ0YXNTZXJ2aWNlLm9idGVuZXIoKVxuICAgICAgXSk7XG4gICAgICBcbiAgICAgIHNldFByb2R1Y3Rvcyhwcm9kdWN0b3NEYXRhKTtcbiAgICAgIHNldFZlbnRhcyh2ZW50YXNEYXRhKTtcbiAgICAgIHNldENvbmZpZ3VyYWNpb24oY29uZmlndXJhY2lvbkRhdGEpO1xuICAgICAgc2V0TWV0YXMobWV0YXNEYXRhKTtcbiAgICAgIHNldEFsZXJ0YXMoYWxlcnRhc0RhdGEpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FyZ2FuZG8gZGF0b3M6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKCdFcnJvciBhbCBjYXJnYXIgbG9zIGRhdG9zLiBQb3IgZmF2b3IsIHJlY2FyZ2EgbGEgcMOhZ2luYS4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2FyZ2FyRGF0b3MoKTtcbiAgfSwgW10pO1xuXG4gIC8vIEZ1bmNpb25lcyBkZSBQcm9kdWN0b3NcbiAgY29uc3QgYWdyZWdhclByb2R1Y3RvID0gYXN5bmMgKHByb2R1Y3RvOiBPbWl0PFByb2R1Y3RvLCAnaWQnPikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudWV2b1Byb2R1Y3RvID0gYXdhaXQgcHJvZHVjdG9zU2VydmljZS5jcmVhcihwcm9kdWN0byk7XG4gICAgICBzZXRQcm9kdWN0b3MocHJldiA9PiBbbnVldm9Qcm9kdWN0bywgLi4ucHJldl0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWdyZWdhbmRvIHByb2R1Y3RvOicsIGVycik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNlIHB1ZG8gYWdyZWdhciBlbCBwcm9kdWN0bycpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhY3R1YWxpemFyUHJvZHVjdG8gPSBhc3luYyAoaWQ6IHN0cmluZywgcHJvZHVjdG86IFBhcnRpYWw8UHJvZHVjdG8+KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb2R1Y3RvQWN0dWFsaXphZG8gPSBhd2FpdCBwcm9kdWN0b3NTZXJ2aWNlLmFjdHVhbGl6YXIoaWQsIHByb2R1Y3RvKTtcbiAgICAgIHNldFByb2R1Y3RvcyhwcmV2ID0+IHByZXYubWFwKHAgPT4gcC5pZCA9PT0gaWQgPyBwcm9kdWN0b0FjdHVhbGl6YWRvIDogcCkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWN0dWFsaXphbmRvIHByb2R1Y3RvOicsIGVycik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNlIHB1ZG8gYWN0dWFsaXphciBlbCBwcm9kdWN0bycpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBlbGltaW5hclByb2R1Y3RvID0gYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcHJvZHVjdG9zU2VydmljZS5lbGltaW5hcihpZCk7XG4gICAgICBzZXRQcm9kdWN0b3MocHJldiA9PiBwcmV2LmZpbHRlcihwID0+IHAuaWQgIT09IGlkKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbGltaW5hbmRvIHByb2R1Y3RvOicsIGVycik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNlIHB1ZG8gZWxpbWluYXIgZWwgcHJvZHVjdG8nKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY2lvbmVzIGRlIFZlbnRhc1xuICBjb25zdCByZWdpc3RyYXJWZW50YSA9IGFzeW5jICh2ZW50YTogT21pdDxWZW50YSwgJ2lkJz4pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVldmFWZW50YSA9IGF3YWl0IHZlbnRhc1NlcnZpY2UuY3JlYXIodmVudGEpO1xuICAgICAgc2V0VmVudGFzKHByZXYgPT4gW251ZXZhVmVudGEsIC4uLnByZXZdKTtcbiAgICAgIFxuICAgICAgLy8gQWN0dWFsaXphciBzdG9jayBkZWwgcHJvZHVjdG9cbiAgICAgIGNvbnN0IHByb2R1Y3RvID0gcHJvZHVjdG9zLmZpbmQocCA9PiBwLmlkID09PSB2ZW50YS5wcm9kdWN0b0lkKTtcbiAgICAgIGlmIChwcm9kdWN0bykge1xuICAgICAgICBjb25zdCBudWV2b1N0b2NrID0gcGFyc2VJbnQocHJvZHVjdG8uc3RvY2spIC0gdmVudGEuY2FudGlkYWQ7XG4gICAgICAgIGF3YWl0IGFjdHVhbGl6YXJQcm9kdWN0byh2ZW50YS5wcm9kdWN0b0lkLCB7IFxuICAgICAgICAgIHN0b2NrOiBudWV2b1N0b2NrLnRvU3RyaW5nKCksXG4gICAgICAgICAgZmVjaGFVbHRpbWFWZW50YTogdmVudGEuZmVjaGFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWdpc3RyYW5kbyB2ZW50YTonLCBlcnIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBwdWRvIHJlZ2lzdHJhciBsYSB2ZW50YScpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBlbGltaW5hclZlbnRhID0gYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdmVudGFzU2VydmljZS5lbGltaW5hcihpZCk7XG4gICAgICBzZXRWZW50YXMocHJldiA9PiBwcmV2LmZpbHRlcih2ID0+IHYuaWQgIT09IGlkKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbGltaW5hbmRvIHZlbnRhOicsIGVycik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNlIHB1ZG8gZWxpbWluYXIgbGEgdmVudGEnKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY2lvbmVzIGRlIENvbmZpZ3VyYWNpw7NuXG4gIGNvbnN0IGFjdHVhbGl6YXJDb25maWd1cmFjaW9uID0gYXN5bmMgKHRpcG86IHN0cmluZywgY2xhdmU6IHN0cmluZywgdmFsb3I6IG51bWJlcikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjb25maWd1cmFjaW9uU2VydmljZS5hY3R1YWxpemFyKHRpcG8sIGNsYXZlLCB2YWxvcik7XG4gICAgICBcbiAgICAgIHNldENvbmZpZ3VyYWNpb24ocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHsgLi4ucHJldiB9O1xuICAgICAgICBcbiAgICAgICAgaWYgKHRpcG8gPT09ICdwb3JjZW50YWplJykge1xuICAgICAgICAgIG5ld0NvbmZpZy5wb3JjZW50YWplcyA9IHsgLi4ucHJldi5wb3JjZW50YWplcywgW2NsYXZlXTogdmFsb3IgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aXBvID09PSAnY29zdG9fZmlqbycpIHtcbiAgICAgICAgICBuZXdDb25maWcuY29zdG9zRmlqb3MgPSB7IC4uLnByZXYuY29zdG9zRmlqb3MsIFtjbGF2ZV06IHZhbG9yIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGlwbyA9PT0gJ2hlcnJhbWllbnRhJykge1xuICAgICAgICAgIG5ld0NvbmZpZy5oZXJyYW1pZW50YXMgPSB7IC4uLnByZXYuaGVycmFtaWVudGFzLCBbY2xhdmVdOiB2YWxvciB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRpcG8gPT09ICdnZW5lcmFsJyAmJiBjbGF2ZSA9PT0gJ3ZlbnRhc19lc3RpbWFkYXMnKSB7XG4gICAgICAgICAgbmV3Q29uZmlnLnZlbnRhc0VzdGltYWRhcyA9IHZhbG9yO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbmV3Q29uZmlnO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhY3R1YWxpemFuZG8gY29uZmlndXJhY2nDs246JywgZXJyKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2UgcHVkbyBhY3R1YWxpemFyIGxhIGNvbmZpZ3VyYWNpw7NuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGVsaW1pbmFyQ29uZmlndXJhY2lvbiA9IGFzeW5jICh0aXBvOiBzdHJpbmcsIGNsYXZlOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY29uZmlndXJhY2lvblNlcnZpY2UuZWxpbWluYXIodGlwbywgY2xhdmUpO1xuICAgICAgXG4gICAgICBzZXRDb25maWd1cmFjaW9uKHByZXYgPT4ge1xuICAgICAgICBjb25zdCBuZXdDb25maWcgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aXBvID09PSAncG9yY2VudGFqZScpIHtcbiAgICAgICAgICBjb25zdCBuZXdQb3JjZW50YWplcyA9IHsgLi4ucHJldi5wb3JjZW50YWplcyB9O1xuICAgICAgICAgIGRlbGV0ZSAobmV3UG9yY2VudGFqZXMgYXMgYW55KVtjbGF2ZV07XG4gICAgICAgICAgbmV3Q29uZmlnLnBvcmNlbnRhamVzID0gbmV3UG9yY2VudGFqZXM7XG4gICAgICAgIH0gZWxzZSBpZiAodGlwbyA9PT0gJ2Nvc3RvX2Zpam8nKSB7XG4gICAgICAgICAgY29uc3QgbmV3Q29zdG9zRmlqb3MgPSB7IC4uLnByZXYuY29zdG9zRmlqb3MgfTtcbiAgICAgICAgICBkZWxldGUgKG5ld0Nvc3Rvc0Zpam9zIGFzIGFueSlbY2xhdmVdO1xuICAgICAgICAgIG5ld0NvbmZpZy5jb3N0b3NGaWpvcyA9IG5ld0Nvc3Rvc0Zpam9zO1xuICAgICAgICB9IGVsc2UgaWYgKHRpcG8gPT09ICdoZXJyYW1pZW50YScpIHtcbiAgICAgICAgICBjb25zdCBuZXdIZXJyYW1pZW50YXMgPSB7IC4uLnByZXYuaGVycmFtaWVudGFzIH07XG4gICAgICAgICAgZGVsZXRlIChuZXdIZXJyYW1pZW50YXMgYXMgYW55KVtjbGF2ZV07XG4gICAgICAgICAgbmV3Q29uZmlnLmhlcnJhbWllbnRhcyA9IG5ld0hlcnJhbWllbnRhcztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ld0NvbmZpZztcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZWxpbWluYW5kbyBjb25maWd1cmFjacOzbjonLCBlcnIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBwdWRvIGVsaW1pbmFyIGxhIGNvbmZpZ3VyYWNpw7NuJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmNpb25lcyBkZSBNZXRhcyB5IEFsZXJ0YXNcbiAgY29uc3QgYWN0dWFsaXphck1ldGEgPSBhc3luYyAoY2xhdmU6IHN0cmluZywgdmFsb3I6IG51bWJlcikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBtZXRhc1NlcnZpY2UuYWN0dWFsaXphcihjbGF2ZSwgdmFsb3IpO1xuICAgICAgXG4gICAgICBzZXRNZXRhcyhwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIFtjbGF2ZSA9PT0gJ3ZlbnRhc19tZW5zdWFsZXMnID8gJ3ZlbnRhc01lbnN1YWxlcycgOiBcbiAgICAgICAgIGNsYXZlID09PSAndW5pZGFkZXNfbWVuc3VhbGVzJyA/ICd1bmlkYWRlc01lbnN1YWxlcycgOlxuICAgICAgICAgY2xhdmUgPT09ICdtYXJnZW5fcHJvbWVkaW8nID8gJ21hcmdlblByb21lZGlvJyA6XG4gICAgICAgICAncm90YWNpb25JbnZlbnRhcmlvJ106IHZhbG9yXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhY3R1YWxpemFuZG8gbWV0YTonLCBlcnIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBwdWRvIGFjdHVhbGl6YXIgbGEgbWV0YScpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhY3R1YWxpemFyQWxlcnRhID0gYXN5bmMgKGNsYXZlOiBzdHJpbmcsIHZhbG9yOiBudW1iZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYWxlcnRhc1NlcnZpY2UuYWN0dWFsaXphcihjbGF2ZSwgdmFsb3IpO1xuICAgICAgXG4gICAgICBzZXRBbGVydGFzKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW2NsYXZlID09PSAnbWFyZ2VuX21pbmltbycgPyAnbWFyZ2VuTWluaW1vJyA6IFxuICAgICAgICAgY2xhdmUgPT09ICdzdG9ja19taW5pbW8nID8gJ3N0b2NrTWluaW1vJyA6XG4gICAgICAgICBjbGF2ZSA9PT0gJ2RpYXNfc2luX3ZlbnRhJyA/ICdkaWFzU2luVmVudGEnIDpcbiAgICAgICAgICdkaWZlcmVuY2lhUHJlY2lvQ29tcGV0ZW5jaWEnXTogdmFsb3JcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFjdHVhbGl6YW5kbyBhbGVydGE6JywgZXJyKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2UgcHVkbyBhY3R1YWxpemFyIGxhIGFsZXJ0YScpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB2YWx1ZTogQXBwQ29udGV4dFR5cGUgPSB7XG4gICAgcHJvZHVjdG9zLFxuICAgIHZlbnRhcyxcbiAgICBjb25maWd1cmFjaW9uLFxuICAgIG1ldGFzLFxuICAgIGFsZXJ0YXMsXG4gICAgbG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBhZ3JlZ2FyUHJvZHVjdG8sXG4gICAgYWN0dWFsaXphclByb2R1Y3RvLFxuICAgIGVsaW1pbmFyUHJvZHVjdG8sXG4gICAgcmVnaXN0cmFyVmVudGEsXG4gICAgZWxpbWluYXJWZW50YSxcbiAgICBhY3R1YWxpemFyQ29uZmlndXJhY2lvbixcbiAgICBlbGltaW5hckNvbmZpZ3VyYWNpb24sXG4gICAgYWN0dWFsaXphck1ldGEsXG4gICAgYWN0dWFsaXphckFsZXJ0YSxcbiAgICByZWNhcmdhckRhdG9zOiBjYXJnYXJEYXRvc1xuICB9O1xuXG4gIHJldHVybiA8QXBwQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PntjaGlsZHJlbn08L0FwcENvbnRleHQuUHJvdmlkZXI+O1xufTsiXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwicHJvZHVjdG9zU2VydmljZSIsInZlbnRhc1NlcnZpY2UiLCJjb25maWd1cmFjaW9uU2VydmljZSIsIm1ldGFzU2VydmljZSIsImFsZXJ0YXNTZXJ2aWNlIiwiQXBwQ29udGV4dCIsInVuZGVmaW5lZCIsInVzZUFwcCIsImNvbnRleHQiLCJFcnJvciIsIkFwcFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJwcm9kdWN0b3MiLCJzZXRQcm9kdWN0b3MiLCJ2ZW50YXMiLCJzZXRWZW50YXMiLCJjb25maWd1cmFjaW9uIiwic2V0Q29uZmlndXJhY2lvbiIsInBvcmNlbnRhamVzIiwiY29udGFiaWxpZGFkIiwibWVyY2FkZW8iLCJzYWxhcmlvcyIsImNvbXByYXMiLCJleHRyYXMiLCJjb3N0b3NGaWpvcyIsImFycmllbmRvIiwiZW5lcmdpYSIsImdhcyIsImFzZW8iLCJpbnRlcm5ldCIsImFndWEiLCJzZXJ2aWRvcmVzIiwiaGVycmFtaWVudGFzIiwiZmlnbWEiLCJjaGF0Z3B0IiwiY29ycmVvcyIsInNlcnZpZG9yIiwiZG9taW5pbyIsInZlbnRhc0VzdGltYWRhcyIsIm1ldGFzIiwic2V0TWV0YXMiLCJ2ZW50YXNNZW5zdWFsZXMiLCJ1bmlkYWRlc01lbnN1YWxlcyIsIm1hcmdlblByb21lZGlvIiwicm90YWNpb25JbnZlbnRhcmlvIiwiYWxlcnRhcyIsInNldEFsZXJ0YXMiLCJtYXJnZW5NaW5pbW8iLCJzdG9ja01pbmltbyIsImRpYXNTaW5WZW50YSIsImRpZmVyZW5jaWFQcmVjaW9Db21wZXRlbmNpYSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImNhcmdhckRhdG9zIiwicHJvZHVjdG9zRGF0YSIsInZlbnRhc0RhdGEiLCJjb25maWd1cmFjaW9uRGF0YSIsIm1ldGFzRGF0YSIsImFsZXJ0YXNEYXRhIiwiUHJvbWlzZSIsImFsbCIsIm9idGVuZXJUb2RvcyIsIm9idGVuZXJUb2RhcyIsIm9idGVuZXIiLCJlcnIiLCJjb25zb2xlIiwiYWdyZWdhclByb2R1Y3RvIiwicHJvZHVjdG8iLCJudWV2b1Byb2R1Y3RvIiwiY3JlYXIiLCJwcmV2IiwiYWN0dWFsaXphclByb2R1Y3RvIiwiaWQiLCJwcm9kdWN0b0FjdHVhbGl6YWRvIiwiYWN0dWFsaXphciIsIm1hcCIsInAiLCJlbGltaW5hclByb2R1Y3RvIiwiZWxpbWluYXIiLCJmaWx0ZXIiLCJyZWdpc3RyYXJWZW50YSIsInZlbnRhIiwibnVldmFWZW50YSIsImZpbmQiLCJwcm9kdWN0b0lkIiwibnVldm9TdG9jayIsInBhcnNlSW50Iiwic3RvY2siLCJjYW50aWRhZCIsInRvU3RyaW5nIiwiZmVjaGFVbHRpbWFWZW50YSIsImZlY2hhIiwiZWxpbWluYXJWZW50YSIsInYiLCJhY3R1YWxpemFyQ29uZmlndXJhY2lvbiIsInRpcG8iLCJjbGF2ZSIsInZhbG9yIiwibmV3Q29uZmlnIiwiZWxpbWluYXJDb25maWd1cmFjaW9uIiwibmV3UG9yY2VudGFqZXMiLCJuZXdDb3N0b3NGaWpvcyIsIm5ld0hlcnJhbWllbnRhcyIsImFjdHVhbGl6YXJNZXRhIiwiYWN0dWFsaXphckFsZXJ0YSIsInZhbHVlIiwicmVjYXJnYXJEYXRvcyIsIlByb3ZpZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./contexts/AppContext.tsx\n");

/***/ }),

/***/ "./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://lkpiyhdyiipgwyeojvep.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxrcGl5aGR5aWlwZ3d5ZW9qdmVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MjU0NDcsImV4cCI6MjA2NjMwMTQ0N30.VUvm81C7f0noSmQ_6vWbTgQvyY6yL5d-39QcMUJqIYc\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBRXJELE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsa0JBQWtCO0FBRWpCLE1BQU1DLFdBQVdILG1FQUFZQSxDQUFDQyxhQUFhQyxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LXN0b3JlLWNhbGN1bGF0b3IvLi9saWIvc3VwYWJhc2UudHM/Yzk5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5jb25zdCBzdXBhYmFzZVVybCA9ICdodHRwczovL2xrcGl5aGR5aWlwZ3d5ZW9qdmVwLnN1cGFiYXNlLmNvJztcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbXhyY0dsNWFHUjVhV2x3WjNkNVpXOXFkbVZ3SWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNOVEEzTWpVME5EY3NJbVY0Y0NJNk1qQTJOak13TVRRME4zMC5WVXZtODFDN2Ywbm9TbVFfNnZXYlRnUXZ5WTZ5TDVkLTM5UWNNVUpxSVljJztcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpO1xuXG4vLyBUaXBvcyBwYXJhIGxhcyB0YWJsYXMgZGUgU3VwYWJhc2VcbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdG9EQiB7XG4gIGlkOiBzdHJpbmc7XG4gIG5vbWJyZTogc3RyaW5nO1xuICBjYXRlZ29yaWE6IHN0cmluZztcbiAgY29zdG9fY29tcHJhOiBudW1iZXI7XG4gIGdhc3Rvc19maWpvczogbnVtYmVyO1xuICBtYXJnZW5fZGVzZWFkbzogbnVtYmVyO1xuICBwcmVjaW9fdmVudGE6IG51bWJlcjtcbiAgdXRpbGlkYWQ6IG51bWJlcjtcbiAgc3RvY2s6IG51bWJlcjtcbiAgdmVudGFzX3VsdGltb3NfMzBfZGlhczogbnVtYmVyO1xuICBwcmVjaW9fY29tcGV0ZW5jaWE6IG51bWJlcjtcbiAgZmVjaGFfdWx0aW1hX3ZlbnRhOiBzdHJpbmcgfCBudWxsO1xuICByb3RhY2lvbjogc3RyaW5nO1xuICBlc19wYXF1ZXRlPzogYm9vbGVhbjtcbiAgdW5pZGFkZXNfcG9yX3BhcXVldGU/OiBudW1iZXI7XG4gIGNvc3RvX3VuaXRhcmlvPzogbnVtYmVyO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlbnRhREIge1xuICBpZDogc3RyaW5nO1xuICBwcm9kdWN0b19pZDogc3RyaW5nO1xuICBwcm9kdWN0b19ub21icmU6IHN0cmluZztcbiAgY2FudGlkYWQ6IG51bWJlcjtcbiAgcHJlY2lvX3ZlbnRhOiBudW1iZXI7XG4gIGNvc3RvX3VuaXRhcmlvOiBudW1iZXI7XG4gIGZlY2hhOiBzdHJpbmc7XG4gIGNsaWVudGU6IHN0cmluZztcbiAgbWV0b2RvX3BhZ286IHN0cmluZztcbiAgdXRpbGlkYWRfdG90YWw6IG51bWJlcjtcbiAgaW5ncmVzb190b3RhbDogbnVtYmVyO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ3VyYWNpb25EQiB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpcG86ICdwb3JjZW50YWplJyB8ICdjb3N0b19maWpvJyB8ICdoZXJyYW1pZW50YScgfCAnZ2VuZXJhbCc7XG4gIGNsYXZlOiBzdHJpbmc7XG4gIHZhbG9yOiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YURCIHtcbiAgaWQ6IHN0cmluZztcbiAgY2xhdmU6IHN0cmluZztcbiAgdmFsb3I6IG51bWJlcjtcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbiAgdXBkYXRlZF9hdD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbGVydGFEQiB7XG4gIGlkOiBzdHJpbmc7XG4gIGNsYXZlOiBzdHJpbmc7XG4gIHZhbG9yOiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwic3VwYWJhc2VBbm9uS2V5Iiwic3VwYWJhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/supabase.ts\n");

/***/ }),

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_AppContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts/AppContext */ \"./contexts/AppContext.tsx\");\n\n\n\nfunction App({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AppContext__WEBPACK_IMPORTED_MODULE_2__.AppProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n            ...pageProps\n        }, void 0, false, {\n            fileName: \"/Users/zamircantillosanchez/Proyectos/rentability/pages/_app.tsx\",\n            lineNumber: 8,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/zamircantillosanchez/Proyectos/rentability/pages/_app.tsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQzhCO0FBQ3NCO0FBRXJDLFNBQVNDLElBQUksRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQVk7SUFDNUQscUJBQ0UsOERBQUNILDZEQUFXQTtrQkFDViw0RUFBQ0U7WUFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7OztBQUc5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktc3RvcmUtY2FsY3VsYXRvci8uL3BhZ2VzL19hcHAudHN4PzJmYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gJ25leHQvYXBwJ1xuaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5jc3MnXG5pbXBvcnQgeyBBcHBQcm92aWRlciB9IGZyb20gJy4uL2NvbnRleHRzL0FwcENvbnRleHQnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFwcFByb3ZpZGVyPlxuICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxuICAgIDwvQXBwUHJvdmlkZXI+XG4gIClcbn0iXSwibmFtZXMiOlsiQXBwUHJvdmlkZXIiLCJBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./services/database.ts":
/*!******************************!*\
  !*** ./services/database.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   alertasService: () => (/* binding */ alertasService),\n/* harmony export */   configuracionService: () => (/* binding */ configuracionService),\n/* harmony export */   metasService: () => (/* binding */ metasService),\n/* harmony export */   productosService: () => (/* binding */ productosService),\n/* harmony export */   ventasService: () => (/* binding */ ventasService)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/supabase */ \"./lib/supabase.ts\");\n\n// Funciones de conversión entre tipos locales y DB\nconst convertProductoFromDB = (productoDB)=>({\n        id: productoDB.id,\n        nombre: productoDB.nombre,\n        categoria: productoDB.categoria,\n        costoCompra: productoDB.costo_compra.toString(),\n        gastosFijos: productoDB.gastos_fijos.toString(),\n        margenDeseado: productoDB.margen_deseado.toString(),\n        precioVenta: productoDB.precio_venta.toString(),\n        utilidad: productoDB.utilidad.toString(),\n        stock: productoDB.stock.toString(),\n        ventasUltimos30Dias: productoDB.ventas_ultimos_30_dias.toString(),\n        precioCompetencia: productoDB.precio_competencia.toString(),\n        fechaUltimaVenta: productoDB.fecha_ultima_venta || \"\",\n        rotacion: productoDB.rotacion,\n        esPaquete: productoDB.es_paquete || false,\n        unidadesPorPaquete: (productoDB.unidades_por_paquete || 1).toString(),\n        costoUnitario: (productoDB.costo_unitario || 0).toString()\n    });\nconst convertProductoToDB = (producto)=>({\n        nombre: producto.nombre,\n        categoria: producto.categoria,\n        costo_compra: parseFloat(producto.costoCompra) || 0,\n        gastos_fijos: parseFloat(producto.gastosFijos) || 0,\n        margen_deseado: parseFloat(producto.margenDeseado) || 30,\n        precio_venta: parseFloat(producto.precioVenta) || 0,\n        utilidad: parseFloat(producto.utilidad) || 0,\n        stock: parseInt(producto.stock) || 0,\n        ventas_ultimos_30_dias: parseInt(producto.ventasUltimos30Dias) || 0,\n        precio_competencia: parseFloat(producto.precioCompetencia) || 0,\n        fecha_ultima_venta: producto.fechaUltimaVenta || null,\n        rotacion: producto.rotacion,\n        es_paquete: producto.esPaquete || false,\n        unidades_por_paquete: parseInt(producto.unidadesPorPaquete) || 1,\n        costo_unitario: parseFloat(producto.costoUnitario) || 0\n    });\nconst convertVentaFromDB = (ventaDB)=>({\n        id: ventaDB.id,\n        productoId: ventaDB.producto_id,\n        productoNombre: ventaDB.producto_nombre,\n        cantidad: ventaDB.cantidad,\n        precioVenta: ventaDB.precio_venta,\n        costoUnitario: ventaDB.costo_unitario,\n        fecha: ventaDB.fecha,\n        cliente: ventaDB.cliente,\n        metodoPago: ventaDB.metodo_pago,\n        utilidadTotal: ventaDB.utilidad_total,\n        ingresoTotal: ventaDB.ingreso_total\n    });\nconst convertVentaToDB = (venta)=>({\n        producto_id: venta.productoId,\n        producto_nombre: venta.productoNombre,\n        cantidad: venta.cantidad,\n        precio_venta: venta.precioVenta,\n        costo_unitario: venta.costoUnitario,\n        fecha: venta.fecha,\n        cliente: venta.cliente,\n        metodo_pago: venta.metodoPago,\n        utilidad_total: venta.utilidadTotal,\n        ingreso_total: venta.ingresoTotal\n    });\n// Servicio de Productos\nconst productosService = {\n    async obtenerTodos () {\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"productos\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return (data || []).map(convertProductoFromDB);\n    },\n    async crear (producto) {\n        const productoDB = convertProductoToDB({\n            ...producto,\n            id: \"\"\n        });\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"productos\").insert([\n            productoDB\n        ]).select().single();\n        if (error) throw error;\n        return convertProductoFromDB(data);\n    },\n    async actualizar (id, producto) {\n        const updates = {};\n        if (producto.nombre !== undefined) updates.nombre = producto.nombre;\n        if (producto.categoria !== undefined) updates.categoria = producto.categoria;\n        if (producto.costoCompra !== undefined) updates.costo_compra = parseFloat(producto.costoCompra) || 0;\n        if (producto.gastosFijos !== undefined) updates.gastos_fijos = parseFloat(producto.gastosFijos) || 0;\n        if (producto.margenDeseado !== undefined) updates.margen_deseado = parseFloat(producto.margenDeseado) || 30;\n        if (producto.precioVenta !== undefined) updates.precio_venta = parseFloat(producto.precioVenta) || 0;\n        if (producto.utilidad !== undefined) updates.utilidad = parseFloat(producto.utilidad) || 0;\n        if (producto.stock !== undefined) updates.stock = parseInt(producto.stock) || 0;\n        if (producto.ventasUltimos30Dias !== undefined) updates.ventas_ultimos_30_dias = parseInt(producto.ventasUltimos30Dias) || 0;\n        if (producto.precioCompetencia !== undefined) updates.precio_competencia = parseFloat(producto.precioCompetencia) || 0;\n        if (producto.fechaUltimaVenta !== undefined) updates.fecha_ultima_venta = producto.fechaUltimaVenta || null;\n        if (producto.rotacion !== undefined) updates.rotacion = producto.rotacion;\n        if (producto.esPaquete !== undefined) updates.es_paquete = producto.esPaquete;\n        if (producto.unidadesPorPaquete !== undefined) updates.unidades_por_paquete = parseInt(producto.unidadesPorPaquete) || 1;\n        if (producto.costoUnitario !== undefined) updates.costo_unitario = parseFloat(producto.costoUnitario) || 0;\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"productos\").update(updates).eq(\"id\", id).select().single();\n        if (error) throw error;\n        return convertProductoFromDB(data);\n    },\n    async eliminar (id) {\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"productos\").delete().eq(\"id\", id);\n        if (error) throw error;\n    }\n};\n// Servicio de Ventas\nconst ventasService = {\n    async obtenerTodas () {\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ventas\").select(\"*\").order(\"fecha\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return (data || []).map(convertVentaFromDB);\n    },\n    async crear (venta) {\n        const ventaDB = convertVentaToDB(venta);\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ventas\").insert([\n            ventaDB\n        ]).select().single();\n        if (error) throw error;\n        return convertVentaFromDB(data);\n    },\n    async eliminar (id) {\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ventas\").delete().eq(\"id\", id);\n        if (error) throw error;\n    }\n};\n// Servicio de Configuración\nconst configuracionService = {\n    async obtener () {\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"configuracion\").select(\"*\");\n        if (error) throw error;\n        const configuracion = {\n            porcentajes: {},\n            costosFijos: {},\n            herramientas: {},\n            ventasEstimadas: 100\n        };\n        (data || []).forEach((item)=>{\n            if (item.tipo === \"porcentaje\") {\n                configuracion.porcentajes[item.clave] = item.valor;\n            } else if (item.tipo === \"costo_fijo\") {\n                configuracion.costosFijos[item.clave] = item.valor;\n            } else if (item.tipo === \"herramienta\") {\n                configuracion.herramientas[item.clave] = item.valor;\n            } else if (item.tipo === \"general\" && item.clave === \"ventas_estimadas\") {\n                configuracion.ventasEstimadas = item.valor;\n            }\n        });\n        return configuracion;\n    },\n    async actualizar (tipo, clave, valor) {\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"configuracion\").upsert([\n            {\n                tipo,\n                clave,\n                valor\n            }\n        ], {\n            onConflict: \"tipo,clave\"\n        });\n        if (error) throw error;\n    },\n    async eliminar (tipo, clave) {\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"configuracion\").delete().eq(\"tipo\", tipo).eq(\"clave\", clave);\n        if (error) throw error;\n    }\n};\n// Servicio de Metas\nconst metasService = {\n    async obtener () {\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"metas\").select(\"*\");\n        if (error) throw error;\n        const metas = {\n            ventasMensuales: 2000000,\n            unidadesMensuales: 200,\n            margenPromedio: 35,\n            rotacionInventario: 12\n        };\n        (data || []).forEach((item)=>{\n            switch(item.clave){\n                case \"ventas_mensuales\":\n                    metas.ventasMensuales = item.valor;\n                    break;\n                case \"unidades_mensuales\":\n                    metas.unidadesMensuales = item.valor;\n                    break;\n                case \"margen_promedio\":\n                    metas.margenPromedio = item.valor;\n                    break;\n                case \"rotacion_inventario\":\n                    metas.rotacionInventario = item.valor;\n                    break;\n            }\n        });\n        return metas;\n    },\n    async actualizar (clave, valor) {\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"metas\").upsert([\n            {\n                clave,\n                valor\n            }\n        ], {\n            onConflict: \"clave\"\n        });\n        if (error) throw error;\n    }\n};\n// Servicio de Alertas\nconst alertasService = {\n    async obtener () {\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"alertas\").select(\"*\");\n        if (error) throw error;\n        const alertas = {\n            margenMinimo: 20,\n            stockMinimo: 5,\n            diasSinVenta: 30,\n            diferenciaPrecioCompetencia: 15\n        };\n        (data || []).forEach((item)=>{\n            switch(item.clave){\n                case \"margen_minimo\":\n                    alertas.margenMinimo = item.valor;\n                    break;\n                case \"stock_minimo\":\n                    alertas.stockMinimo = item.valor;\n                    break;\n                case \"dias_sin_venta\":\n                    alertas.diasSinVenta = item.valor;\n                    break;\n                case \"diferencia_precio_competencia\":\n                    alertas.diferenciaPrecioCompetencia = item.valor;\n                    break;\n            }\n        });\n        return alertas;\n    },\n    async actualizar (clave, valor) {\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"alertas\").upsert([\n            {\n                clave,\n                valor\n            }\n        ], {\n            onConflict: \"clave\"\n        });\n        if (error) throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUY7Z0JBQU9DO1lBQU07U0FBRSxFQUFFO1lBQUVFLFlBQVk7UUFBUTtRQUVwRCxJQUFJL0IsT0FBTyxNQUFNQTtJQUNuQjtBQUNGLEVBQUU7QUFFRixzQkFBc0I7QUFDZixNQUFNc0MsaUJBQWlCO0lBQzVCLE1BQU1uQjtRQUNKLE1BQU0sRUFBRXBCLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTXRELG1EQUFRQSxDQUNuQ3VELElBQUksQ0FBQyxXQUNMQyxNQUFNLENBQUM7UUFFVixJQUFJRixPQUFPLE1BQU1BO1FBRWpCLE1BQU11QyxVQUFtQjtZQUN2QkMsY0FBYztZQUNkQyxhQUFhO1lBQ2JDLGNBQWM7WUFDZEMsNkJBQTZCO1FBQy9CO1FBRUM1QyxDQUFBQSxRQUFRLEVBQUUsRUFBRTBCLE9BQU8sQ0FBQyxDQUFDQztZQUNwQixPQUFRQSxLQUFLRSxLQUFLO2dCQUNoQixLQUFLO29CQUNIVyxRQUFRQyxZQUFZLEdBQUdkLEtBQUtHLEtBQUs7b0JBQ2pDO2dCQUNGLEtBQUs7b0JBQ0hVLFFBQVFFLFdBQVcsR0FBR2YsS0FBS0csS0FBSztvQkFDaEM7Z0JBQ0YsS0FBSztvQkFDSFUsUUFBUUcsWUFBWSxHQUFHaEIsS0FBS0csS0FBSztvQkFDakM7Z0JBQ0YsS0FBSztvQkFDSFUsUUFBUUksMkJBQTJCLEdBQUdqQixLQUFLRyxLQUFLO29CQUNoRDtZQUNKO1FBQ0Y7UUFFQSxPQUFPVTtJQUNUO0lBRUEsTUFBTTlCLFlBQVdtQixLQUFhLEVBQUVDLEtBQWE7UUFDM0MsTUFBTSxFQUFFN0IsS0FBSyxFQUFFLEdBQUcsTUFBTXRELG1EQUFRQSxDQUM3QnVELElBQUksQ0FBQyxXQUNMNkIsTUFBTSxDQUFDO1lBQUM7Z0JBQUVGO2dCQUFPQztZQUFNO1NBQUUsRUFBRTtZQUFFRSxZQUFZO1FBQVE7UUFFcEQsSUFBSS9CLE9BQU8sTUFBTUE7SUFDbkI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1zdG9yZS1jYWxjdWxhdG9yLy4vc2VydmljZXMvZGF0YWJhc2UudHM/MWEwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSwgUHJvZHVjdG9EQiwgVmVudGFEQiwgQ29uZmlndXJhY2lvbkRCLCBNZXRhREIsIEFsZXJ0YURCIH0gZnJvbSAnLi4vbGliL3N1cGFiYXNlJztcbmltcG9ydCB7IFByb2R1Y3RvLCBWZW50YSwgQ29uZmlndXJhY2lvbiwgTWV0YXMsIEFsZXJ0YXMgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8vIEZ1bmNpb25lcyBkZSBjb252ZXJzacOzbiBlbnRyZSB0aXBvcyBsb2NhbGVzIHkgREJcbmNvbnN0IGNvbnZlcnRQcm9kdWN0b0Zyb21EQiA9IChwcm9kdWN0b0RCOiBQcm9kdWN0b0RCKTogUHJvZHVjdG8gPT4gKHtcbiAgaWQ6IHByb2R1Y3RvREIuaWQsXG4gIG5vbWJyZTogcHJvZHVjdG9EQi5ub21icmUsXG4gIGNhdGVnb3JpYTogcHJvZHVjdG9EQi5jYXRlZ29yaWEsXG4gIGNvc3RvQ29tcHJhOiBwcm9kdWN0b0RCLmNvc3RvX2NvbXByYS50b1N0cmluZygpLFxuICBnYXN0b3NGaWpvczogcHJvZHVjdG9EQi5nYXN0b3NfZmlqb3MudG9TdHJpbmcoKSxcbiAgbWFyZ2VuRGVzZWFkbzogcHJvZHVjdG9EQi5tYXJnZW5fZGVzZWFkby50b1N0cmluZygpLFxuICBwcmVjaW9WZW50YTogcHJvZHVjdG9EQi5wcmVjaW9fdmVudGEudG9TdHJpbmcoKSxcbiAgdXRpbGlkYWQ6IHByb2R1Y3RvREIudXRpbGlkYWQudG9TdHJpbmcoKSxcbiAgc3RvY2s6IHByb2R1Y3RvREIuc3RvY2sudG9TdHJpbmcoKSxcbiAgdmVudGFzVWx0aW1vczMwRGlhczogcHJvZHVjdG9EQi52ZW50YXNfdWx0aW1vc18zMF9kaWFzLnRvU3RyaW5nKCksXG4gIHByZWNpb0NvbXBldGVuY2lhOiBwcm9kdWN0b0RCLnByZWNpb19jb21wZXRlbmNpYS50b1N0cmluZygpLFxuICBmZWNoYVVsdGltYVZlbnRhOiBwcm9kdWN0b0RCLmZlY2hhX3VsdGltYV92ZW50YSB8fCAnJyxcbiAgcm90YWNpb246IHByb2R1Y3RvREIucm90YWNpb24sXG4gIGVzUGFxdWV0ZTogcHJvZHVjdG9EQi5lc19wYXF1ZXRlIHx8IGZhbHNlLFxuICB1bmlkYWRlc1BvclBhcXVldGU6IChwcm9kdWN0b0RCLnVuaWRhZGVzX3Bvcl9wYXF1ZXRlIHx8IDEpLnRvU3RyaW5nKCksXG4gIGNvc3RvVW5pdGFyaW86IChwcm9kdWN0b0RCLmNvc3RvX3VuaXRhcmlvIHx8IDApLnRvU3RyaW5nKClcbn0pO1xuXG5jb25zdCBjb252ZXJ0UHJvZHVjdG9Ub0RCID0gKHByb2R1Y3RvOiBQcm9kdWN0byk6IE9taXQ8UHJvZHVjdG9EQiwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4gPT4gKHtcbiAgbm9tYnJlOiBwcm9kdWN0by5ub21icmUsXG4gIGNhdGVnb3JpYTogcHJvZHVjdG8uY2F0ZWdvcmlhLFxuICBjb3N0b19jb21wcmE6IHBhcnNlRmxvYXQocHJvZHVjdG8uY29zdG9Db21wcmEpIHx8IDAsXG4gIGdhc3Rvc19maWpvczogcGFyc2VGbG9hdChwcm9kdWN0by5nYXN0b3NGaWpvcykgfHwgMCxcbiAgbWFyZ2VuX2Rlc2VhZG86IHBhcnNlRmxvYXQocHJvZHVjdG8ubWFyZ2VuRGVzZWFkbykgfHwgMzAsXG4gIHByZWNpb192ZW50YTogcGFyc2VGbG9hdChwcm9kdWN0by5wcmVjaW9WZW50YSkgfHwgMCxcbiAgdXRpbGlkYWQ6IHBhcnNlRmxvYXQocHJvZHVjdG8udXRpbGlkYWQpIHx8IDAsXG4gIHN0b2NrOiBwYXJzZUludChwcm9kdWN0by5zdG9jaykgfHwgMCxcbiAgdmVudGFzX3VsdGltb3NfMzBfZGlhczogcGFyc2VJbnQocHJvZHVjdG8udmVudGFzVWx0aW1vczMwRGlhcykgfHwgMCxcbiAgcHJlY2lvX2NvbXBldGVuY2lhOiBwYXJzZUZsb2F0KHByb2R1Y3RvLnByZWNpb0NvbXBldGVuY2lhKSB8fCAwLFxuICBmZWNoYV91bHRpbWFfdmVudGE6IHByb2R1Y3RvLmZlY2hhVWx0aW1hVmVudGEgfHwgbnVsbCxcbiAgcm90YWNpb246IHByb2R1Y3RvLnJvdGFjaW9uLFxuICBlc19wYXF1ZXRlOiBwcm9kdWN0by5lc1BhcXVldGUgfHwgZmFsc2UsXG4gIHVuaWRhZGVzX3Bvcl9wYXF1ZXRlOiBwYXJzZUludChwcm9kdWN0by51bmlkYWRlc1BvclBhcXVldGUpIHx8IDEsXG4gIGNvc3RvX3VuaXRhcmlvOiBwYXJzZUZsb2F0KHByb2R1Y3RvLmNvc3RvVW5pdGFyaW8pIHx8IDBcbn0pO1xuXG5jb25zdCBjb252ZXJ0VmVudGFGcm9tREIgPSAodmVudGFEQjogVmVudGFEQik6IFZlbnRhID0+ICh7XG4gIGlkOiB2ZW50YURCLmlkLFxuICBwcm9kdWN0b0lkOiB2ZW50YURCLnByb2R1Y3RvX2lkLFxuICBwcm9kdWN0b05vbWJyZTogdmVudGFEQi5wcm9kdWN0b19ub21icmUsXG4gIGNhbnRpZGFkOiB2ZW50YURCLmNhbnRpZGFkLFxuICBwcmVjaW9WZW50YTogdmVudGFEQi5wcmVjaW9fdmVudGEsXG4gIGNvc3RvVW5pdGFyaW86IHZlbnRhREIuY29zdG9fdW5pdGFyaW8sXG4gIGZlY2hhOiB2ZW50YURCLmZlY2hhLFxuICBjbGllbnRlOiB2ZW50YURCLmNsaWVudGUsXG4gIG1ldG9kb1BhZ286IHZlbnRhREIubWV0b2RvX3BhZ28sXG4gIHV0aWxpZGFkVG90YWw6IHZlbnRhREIudXRpbGlkYWRfdG90YWwsXG4gIGluZ3Jlc29Ub3RhbDogdmVudGFEQi5pbmdyZXNvX3RvdGFsXG59KTtcblxuY29uc3QgY29udmVydFZlbnRhVG9EQiA9ICh2ZW50YTogT21pdDxWZW50YSwgJ2lkJz4pOiBPbWl0PFZlbnRhREIsICdpZCcgfCAnY3JlYXRlZF9hdCc+ID0+ICh7XG4gIHByb2R1Y3RvX2lkOiB2ZW50YS5wcm9kdWN0b0lkLFxuICBwcm9kdWN0b19ub21icmU6IHZlbnRhLnByb2R1Y3RvTm9tYnJlLFxuICBjYW50aWRhZDogdmVudGEuY2FudGlkYWQsXG4gIHByZWNpb192ZW50YTogdmVudGEucHJlY2lvVmVudGEsXG4gIGNvc3RvX3VuaXRhcmlvOiB2ZW50YS5jb3N0b1VuaXRhcmlvLFxuICBmZWNoYTogdmVudGEuZmVjaGEsXG4gIGNsaWVudGU6IHZlbnRhLmNsaWVudGUsXG4gIG1ldG9kb19wYWdvOiB2ZW50YS5tZXRvZG9QYWdvLFxuICB1dGlsaWRhZF90b3RhbDogdmVudGEudXRpbGlkYWRUb3RhbCxcbiAgaW5ncmVzb190b3RhbDogdmVudGEuaW5ncmVzb1RvdGFsXG59KTtcblxuLy8gU2VydmljaW8gZGUgUHJvZHVjdG9zXG5leHBvcnQgY29uc3QgcHJvZHVjdG9zU2VydmljZSA9IHtcbiAgYXN5bmMgb2J0ZW5lclRvZG9zKCk6IFByb21pc2U8UHJvZHVjdG9bXT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZHVjdG9zJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgcmV0dXJuIChkYXRhIHx8IFtdKS5tYXAoY29udmVydFByb2R1Y3RvRnJvbURCKTtcbiAgfSxcblxuICBhc3luYyBjcmVhcihwcm9kdWN0bzogT21pdDxQcm9kdWN0bywgJ2lkJz4pOiBQcm9taXNlPFByb2R1Y3RvPiB7XG4gICAgY29uc3QgcHJvZHVjdG9EQiA9IGNvbnZlcnRQcm9kdWN0b1RvREIoeyAuLi5wcm9kdWN0bywgaWQ6ICcnIH0pO1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZHVjdG9zJylcbiAgICAgIC5pbnNlcnQoW3Byb2R1Y3RvREJdKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICByZXR1cm4gY29udmVydFByb2R1Y3RvRnJvbURCKGRhdGEpO1xuICB9LFxuXG4gIGFzeW5jIGFjdHVhbGl6YXIoaWQ6IHN0cmluZywgcHJvZHVjdG86IFBhcnRpYWw8UHJvZHVjdG8+KTogUHJvbWlzZTxQcm9kdWN0bz4ge1xuICAgIGNvbnN0IHVwZGF0ZXM6IGFueSA9IHt9O1xuICAgIFxuICAgIGlmIChwcm9kdWN0by5ub21icmUgIT09IHVuZGVmaW5lZCkgdXBkYXRlcy5ub21icmUgPSBwcm9kdWN0by5ub21icmU7XG4gICAgaWYgKHByb2R1Y3RvLmNhdGVnb3JpYSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVzLmNhdGVnb3JpYSA9IHByb2R1Y3RvLmNhdGVnb3JpYTtcbiAgICBpZiAocHJvZHVjdG8uY29zdG9Db21wcmEgIT09IHVuZGVmaW5lZCkgdXBkYXRlcy5jb3N0b19jb21wcmEgPSBwYXJzZUZsb2F0KHByb2R1Y3RvLmNvc3RvQ29tcHJhKSB8fCAwO1xuICAgIGlmIChwcm9kdWN0by5nYXN0b3NGaWpvcyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVzLmdhc3Rvc19maWpvcyA9IHBhcnNlRmxvYXQocHJvZHVjdG8uZ2FzdG9zRmlqb3MpIHx8IDA7XG4gICAgaWYgKHByb2R1Y3RvLm1hcmdlbkRlc2VhZG8gIT09IHVuZGVmaW5lZCkgdXBkYXRlcy5tYXJnZW5fZGVzZWFkbyA9IHBhcnNlRmxvYXQocHJvZHVjdG8ubWFyZ2VuRGVzZWFkbykgfHwgMzA7XG4gICAgaWYgKHByb2R1Y3RvLnByZWNpb1ZlbnRhICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMucHJlY2lvX3ZlbnRhID0gcGFyc2VGbG9hdChwcm9kdWN0by5wcmVjaW9WZW50YSkgfHwgMDtcbiAgICBpZiAocHJvZHVjdG8udXRpbGlkYWQgIT09IHVuZGVmaW5lZCkgdXBkYXRlcy51dGlsaWRhZCA9IHBhcnNlRmxvYXQocHJvZHVjdG8udXRpbGlkYWQpIHx8IDA7XG4gICAgaWYgKHByb2R1Y3RvLnN0b2NrICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMuc3RvY2sgPSBwYXJzZUludChwcm9kdWN0by5zdG9jaykgfHwgMDtcbiAgICBpZiAocHJvZHVjdG8udmVudGFzVWx0aW1vczMwRGlhcyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVzLnZlbnRhc191bHRpbW9zXzMwX2RpYXMgPSBwYXJzZUludChwcm9kdWN0by52ZW50YXNVbHRpbW9zMzBEaWFzKSB8fCAwO1xuICAgIGlmIChwcm9kdWN0by5wcmVjaW9Db21wZXRlbmNpYSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVzLnByZWNpb19jb21wZXRlbmNpYSA9IHBhcnNlRmxvYXQocHJvZHVjdG8ucHJlY2lvQ29tcGV0ZW5jaWEpIHx8IDA7XG4gICAgaWYgKHByb2R1Y3RvLmZlY2hhVWx0aW1hVmVudGEgIT09IHVuZGVmaW5lZCkgdXBkYXRlcy5mZWNoYV91bHRpbWFfdmVudGEgPSBwcm9kdWN0by5mZWNoYVVsdGltYVZlbnRhIHx8IG51bGw7XG4gICAgaWYgKHByb2R1Y3RvLnJvdGFjaW9uICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMucm90YWNpb24gPSBwcm9kdWN0by5yb3RhY2lvbjtcbiAgICBpZiAocHJvZHVjdG8uZXNQYXF1ZXRlICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMuZXNfcGFxdWV0ZSA9IHByb2R1Y3RvLmVzUGFxdWV0ZTtcbiAgICBpZiAocHJvZHVjdG8udW5pZGFkZXNQb3JQYXF1ZXRlICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMudW5pZGFkZXNfcG9yX3BhcXVldGUgPSBwYXJzZUludChwcm9kdWN0by51bmlkYWRlc1BvclBhcXVldGUpIHx8IDE7XG4gICAgaWYgKHByb2R1Y3RvLmNvc3RvVW5pdGFyaW8gIT09IHVuZGVmaW5lZCkgdXBkYXRlcy5jb3N0b191bml0YXJpbyA9IHBhcnNlRmxvYXQocHJvZHVjdG8uY29zdG9Vbml0YXJpbykgfHwgMDtcbiAgICBcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RvcycpXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXG4gICAgICAuZXEoJ2lkJywgaWQpXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIHJldHVybiBjb252ZXJ0UHJvZHVjdG9Gcm9tREIoZGF0YSk7XG4gIH0sXG5cbiAgYXN5bmMgZWxpbWluYXIoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZHVjdG9zJylcbiAgICAgIC5kZWxldGUoKVxuICAgICAgLmVxKCdpZCcsIGlkKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBTZXJ2aWNpbyBkZSBWZW50YXNcbmV4cG9ydCBjb25zdCB2ZW50YXNTZXJ2aWNlID0ge1xuICBhc3luYyBvYnRlbmVyVG9kYXMoKTogUHJvbWlzZTxWZW50YVtdPiB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd2ZW50YXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAub3JkZXIoJ2ZlY2hhJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgcmV0dXJuIChkYXRhIHx8IFtdKS5tYXAoY29udmVydFZlbnRhRnJvbURCKTtcbiAgfSxcblxuICBhc3luYyBjcmVhcih2ZW50YTogT21pdDxWZW50YSwgJ2lkJz4pOiBQcm9taXNlPFZlbnRhPiB7XG4gICAgY29uc3QgdmVudGFEQiA9IGNvbnZlcnRWZW50YVRvREIodmVudGEpO1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndmVudGFzJylcbiAgICAgIC5pbnNlcnQoW3ZlbnRhREJdKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICByZXR1cm4gY29udmVydFZlbnRhRnJvbURCKGRhdGEpO1xuICB9LFxuXG4gIGFzeW5jIGVsaW1pbmFyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3ZlbnRhcycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnaWQnLCBpZCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gU2VydmljaW8gZGUgQ29uZmlndXJhY2nDs25cbmV4cG9ydCBjb25zdCBjb25maWd1cmFjaW9uU2VydmljZSA9IHtcbiAgYXN5bmMgb2J0ZW5lcigpOiBQcm9taXNlPENvbmZpZ3VyYWNpb24+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NvbmZpZ3VyYWNpb24nKVxuICAgICAgLnNlbGVjdCgnKicpO1xuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgXG4gICAgY29uc3QgY29uZmlndXJhY2lvbjogQ29uZmlndXJhY2lvbiA9IHtcbiAgICAgIHBvcmNlbnRhamVzOiB7fSBhcyBhbnksXG4gICAgICBjb3N0b3NGaWpvczoge30gYXMgYW55LFxuICAgICAgaGVycmFtaWVudGFzOiB7fSBhcyBhbnksXG4gICAgICB2ZW50YXNFc3RpbWFkYXM6IDEwMFxuICAgIH07XG4gICAgXG4gICAgKGRhdGEgfHwgW10pLmZvckVhY2goKGl0ZW06IENvbmZpZ3VyYWNpb25EQikgPT4ge1xuICAgICAgaWYgKGl0ZW0udGlwbyA9PT0gJ3BvcmNlbnRhamUnKSB7XG4gICAgICAgIChjb25maWd1cmFjaW9uLnBvcmNlbnRhamVzIGFzIGFueSlbaXRlbS5jbGF2ZV0gPSBpdGVtLnZhbG9yO1xuICAgICAgfSBlbHNlIGlmIChpdGVtLnRpcG8gPT09ICdjb3N0b19maWpvJykge1xuICAgICAgICAoY29uZmlndXJhY2lvbi5jb3N0b3NGaWpvcyBhcyBhbnkpW2l0ZW0uY2xhdmVdID0gaXRlbS52YWxvcjtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS50aXBvID09PSAnaGVycmFtaWVudGEnKSB7XG4gICAgICAgIChjb25maWd1cmFjaW9uLmhlcnJhbWllbnRhcyBhcyBhbnkpW2l0ZW0uY2xhdmVdID0gaXRlbS52YWxvcjtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS50aXBvID09PSAnZ2VuZXJhbCcgJiYgaXRlbS5jbGF2ZSA9PT0gJ3ZlbnRhc19lc3RpbWFkYXMnKSB7XG4gICAgICAgIGNvbmZpZ3VyYWNpb24udmVudGFzRXN0aW1hZGFzID0gaXRlbS52YWxvcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gY29uZmlndXJhY2lvbjtcbiAgfSxcblxuICBhc3luYyBhY3R1YWxpemFyKHRpcG86IHN0cmluZywgY2xhdmU6IHN0cmluZywgdmFsb3I6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY29uZmlndXJhY2lvbicpXG4gICAgICAudXBzZXJ0KFt7IHRpcG8sIGNsYXZlLCB2YWxvciB9XSwgeyBvbkNvbmZsaWN0OiAndGlwbyxjbGF2ZScgfSk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgfSxcblxuICBhc3luYyBlbGltaW5hcih0aXBvOiBzdHJpbmcsIGNsYXZlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NvbmZpZ3VyYWNpb24nKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAuZXEoJ3RpcG8nLCB0aXBvKVxuICAgICAgLmVxKCdjbGF2ZScsIGNsYXZlKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBTZXJ2aWNpbyBkZSBNZXRhc1xuZXhwb3J0IGNvbnN0IG1ldGFzU2VydmljZSA9IHtcbiAgYXN5bmMgb2J0ZW5lcigpOiBQcm9taXNlPE1ldGFzPiB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtZXRhcycpXG4gICAgICAuc2VsZWN0KCcqJyk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICBcbiAgICBjb25zdCBtZXRhczogTWV0YXMgPSB7XG4gICAgICB2ZW50YXNNZW5zdWFsZXM6IDIwMDAwMDAsXG4gICAgICB1bmlkYWRlc01lbnN1YWxlczogMjAwLFxuICAgICAgbWFyZ2VuUHJvbWVkaW86IDM1LFxuICAgICAgcm90YWNpb25JbnZlbnRhcmlvOiAxMlxuICAgIH07XG4gICAgXG4gICAgKGRhdGEgfHwgW10pLmZvckVhY2goKGl0ZW06IE1ldGFEQikgPT4ge1xuICAgICAgc3dpdGNoIChpdGVtLmNsYXZlKSB7XG4gICAgICAgIGNhc2UgJ3ZlbnRhc19tZW5zdWFsZXMnOlxuICAgICAgICAgIG1ldGFzLnZlbnRhc01lbnN1YWxlcyA9IGl0ZW0udmFsb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3VuaWRhZGVzX21lbnN1YWxlcyc6XG4gICAgICAgICAgbWV0YXMudW5pZGFkZXNNZW5zdWFsZXMgPSBpdGVtLnZhbG9yO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtYXJnZW5fcHJvbWVkaW8nOlxuICAgICAgICAgIG1ldGFzLm1hcmdlblByb21lZGlvID0gaXRlbS52YWxvcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncm90YWNpb25faW52ZW50YXJpbyc6XG4gICAgICAgICAgbWV0YXMucm90YWNpb25JbnZlbnRhcmlvID0gaXRlbS52YWxvcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gbWV0YXM7XG4gIH0sXG5cbiAgYXN5bmMgYWN0dWFsaXphcihjbGF2ZTogc3RyaW5nLCB2YWxvcjogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtZXRhcycpXG4gICAgICAudXBzZXJ0KFt7IGNsYXZlLCB2YWxvciB9XSwgeyBvbkNvbmZsaWN0OiAnY2xhdmUnIH0pO1xuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIFNlcnZpY2lvIGRlIEFsZXJ0YXNcbmV4cG9ydCBjb25zdCBhbGVydGFzU2VydmljZSA9IHtcbiAgYXN5bmMgb2J0ZW5lcigpOiBQcm9taXNlPEFsZXJ0YXM+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2FsZXJ0YXMnKVxuICAgICAgLnNlbGVjdCgnKicpO1xuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgXG4gICAgY29uc3QgYWxlcnRhczogQWxlcnRhcyA9IHtcbiAgICAgIG1hcmdlbk1pbmltbzogMjAsXG4gICAgICBzdG9ja01pbmltbzogNSxcbiAgICAgIGRpYXNTaW5WZW50YTogMzAsXG4gICAgICBkaWZlcmVuY2lhUHJlY2lvQ29tcGV0ZW5jaWE6IDE1XG4gICAgfTtcbiAgICBcbiAgICAoZGF0YSB8fCBbXSkuZm9yRWFjaCgoaXRlbTogQWxlcnRhREIpID0+IHtcbiAgICAgIHN3aXRjaCAoaXRlbS5jbGF2ZSkge1xuICAgICAgICBjYXNlICdtYXJnZW5fbWluaW1vJzpcbiAgICAgICAgICBhbGVydGFzLm1hcmdlbk1pbmltbyA9IGl0ZW0udmFsb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3N0b2NrX21pbmltbyc6XG4gICAgICAgICAgYWxlcnRhcy5zdG9ja01pbmltbyA9IGl0ZW0udmFsb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RpYXNfc2luX3ZlbnRhJzpcbiAgICAgICAgICBhbGVydGFzLmRpYXNTaW5WZW50YSA9IGl0ZW0udmFsb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RpZmVyZW5jaWFfcHJlY2lvX2NvbXBldGVuY2lhJzpcbiAgICAgICAgICBhbGVydGFzLmRpZmVyZW5jaWFQcmVjaW9Db21wZXRlbmNpYSA9IGl0ZW0udmFsb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGFsZXJ0YXM7XG4gIH0sXG5cbiAgYXN5bmMgYWN0dWFsaXphcihjbGF2ZTogc3RyaW5nLCB2YWxvcjogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhbGVydGFzJylcbiAgICAgIC51cHNlcnQoW3sgY2xhdmUsIHZhbG9yIH1dLCB7IG9uQ29uZmxpY3Q6ICdjbGF2ZScgfSk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgfVxufTsiXSwibmFtZXMiOlsic3VwYWJhc2UiLCJjb252ZXJ0UHJvZHVjdG9Gcm9tREIiLCJwcm9kdWN0b0RCIiwiaWQiLCJub21icmUiLCJjYXRlZ29yaWEiLCJjb3N0b0NvbXByYSIsImNvc3RvX2NvbXByYSIsInRvU3RyaW5nIiwiZ2FzdG9zRmlqb3MiLCJnYXN0b3NfZmlqb3MiLCJtYXJnZW5EZXNlYWRvIiwibWFyZ2VuX2Rlc2VhZG8iLCJwcmVjaW9WZW50YSIsInByZWNpb192ZW50YSIsInV0aWxpZGFkIiwic3RvY2siLCJ2ZW50YXNVbHRpbW9zMzBEaWFzIiwidmVudGFzX3VsdGltb3NfMzBfZGlhcyIsInByZWNpb0NvbXBldGVuY2lhIiwicHJlY2lvX2NvbXBldGVuY2lhIiwiZmVjaGFVbHRpbWFWZW50YSIsImZlY2hhX3VsdGltYV92ZW50YSIsInJvdGFjaW9uIiwiZXNQYXF1ZXRlIiwiZXNfcGFxdWV0ZSIsInVuaWRhZGVzUG9yUGFxdWV0ZSIsInVuaWRhZGVzX3Bvcl9wYXF1ZXRlIiwiY29zdG9Vbml0YXJpbyIsImNvc3RvX3VuaXRhcmlvIiwiY29udmVydFByb2R1Y3RvVG9EQiIsInByb2R1Y3RvIiwicGFyc2VGbG9hdCIsInBhcnNlSW50IiwiY29udmVydFZlbnRhRnJvbURCIiwidmVudGFEQiIsInByb2R1Y3RvSWQiLCJwcm9kdWN0b19pZCIsInByb2R1Y3RvTm9tYnJlIiwicHJvZHVjdG9fbm9tYnJlIiwiY2FudGlkYWQiLCJmZWNoYSIsImNsaWVudGUiLCJtZXRvZG9QYWdvIiwibWV0b2RvX3BhZ28iLCJ1dGlsaWRhZFRvdGFsIiwidXRpbGlkYWRfdG90YWwiLCJpbmdyZXNvVG90YWwiLCJpbmdyZXNvX3RvdGFsIiwiY29udmVydFZlbnRhVG9EQiIsInZlbnRhIiwicHJvZHVjdG9zU2VydmljZSIsIm9idGVuZXJUb2RvcyIsImRhdGEiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJvcmRlciIsImFzY2VuZGluZyIsIm1hcCIsImNyZWFyIiwiaW5zZXJ0Iiwic2luZ2xlIiwiYWN0dWFsaXphciIsInVwZGF0ZXMiLCJ1bmRlZmluZWQiLCJ1cGRhdGUiLCJlcSIsImVsaW1pbmFyIiwiZGVsZXRlIiwidmVudGFzU2VydmljZSIsIm9idGVuZXJUb2RhcyIsImNvbmZpZ3VyYWNpb25TZXJ2aWNlIiwib2J0ZW5lciIsImNvbmZpZ3VyYWNpb24iLCJwb3JjZW50YWplcyIsImNvc3Rvc0Zpam9zIiwiaGVycmFtaWVudGFzIiwidmVudGFzRXN0aW1hZGFzIiwiZm9yRWFjaCIsIml0ZW0iLCJ0aXBvIiwiY2xhdmUiLCJ2YWxvciIsInVwc2VydCIsIm9uQ29uZmxpY3QiLCJtZXRhc1NlcnZpY2UiLCJtZXRhcyIsInZlbnRhc01lbnN1YWxlcyIsInVuaWRhZGVzTWVuc3VhbGVzIiwibWFyZ2VuUHJvbWVkaW8iLCJyb3RhY2lvbkludmVudGFyaW8iLCJhbGVydGFzU2VydmljZSIsImFsZXJ0YXMiLCJtYXJnZW5NaW5pbW8iLCJzdG9ja01pbmltbyIsImRpYXNTaW5WZW50YSIsImRpZmVyZW5jaWFQcmVjaW9Db21wZXRlbmNpYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./services/database.ts\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();